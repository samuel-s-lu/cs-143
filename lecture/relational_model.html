<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/styles/default.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markdown-it-texmath/css/texmath.min.css">
<link rel="stylesheet" href="file:////Users/samuellu/.vscode/extensions/goessner.mdmath-2.7.4/themes/default/style.css">

</head>
<body class="markdown-body">
<h3 dir="auto" id="relations">Relations</h3>
<ul dir="auto">
<li dir="auto">a <em>relational database</em> consists of a collection of <strong>relations</strong> (often called tables)</li>
<li dir="auto">each relation consists of sets of <em>tuples</em> (records)
<ul dir="auto">
<li dir="auto">each tuple is a row</li>
<li dir="auto">tuples are unordered</li>
<li dir="auto">each tuple has one or more named <em>attributes</em> (columns/field) that are ordered</li>
</ul>
</li>
</ul>
<h3 dir="auto" id="keys">Keys</h3>
<ul dir="auto">
<li dir="auto">let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> be a relation with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> attributes <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><msub><mi>a</mi><mi>n</mi></msub><mo fence="true">}</mo></mrow><annotation encoding="application/x-tex">\cbrack{a_1,\dots a_n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span></li>
<li dir="auto"><em>superkey</em> - a subset of the attributes of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> that uniquely identify each tuple in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>
<ul dir="auto">
<li dir="auto">there are usually a lot of superkeys (up to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>)</li>
<li dir="auto">the trivial superkey is the one that includes all attributes</li>
<li dir="auto">the empty set is not a superkey</li>
</ul>
</li>
<li dir="auto"><em>candidate key</em> - a minimal superkey, i.e. one where no subset of its attributes is itself a superkey
<ul dir="auto">
<li dir="auto">can be NULL, but NULLs must still uniquely identify a tuple</li>
</ul>
</li>
<li dir="auto"><em>primary key</em> - a candidate key that is chosen by the developer to enforce uniqueness based on data context
<ul dir="auto">
<li dir="auto">properties:
<ul dir="auto">
<li dir="auto">uniqueness - if the PK is composite, the values of the set of attributes must be unique</li>
<li dir="auto">NOT NULL - if the PK is composite, none of the values of the attributes can be null</li>
</ul>
</li>
<li dir="auto">to pick a primary key:
<ul dir="auto">
<li dir="auto">if one of the candidate key is created/maintained by the dev, that one is usually chosen</li>
<li dir="auto">if multiple candidate keys exist - shortest is chosen</li>
</ul>
</li>
</ul>
</li>
<li dir="auto">RDBMS allows the user to set any unique, non-null set of attributes to be the PK
<ul dir="auto">
<li dir="auto">so RDBMS will accept PKs that are not candidate keys</li>
</ul>
</li>
<li dir="auto"><em>foreign key</em> - a set of attributes in a referring relation that refers to the primary key of a referred relation
<ul dir="auto">
<li dir="auto"><em>referential integrity</em> - if a foreign key value exists in the referring relation, the same value must exist in the primary key of the referred relation
<ul dir="auto">
<li dir="auto">foreign keys can be used protect data in one relation from becoming orphaned/inconsistent due to changes in another relation</li>
</ul>
</li>
<li dir="auto">the order of attributes in foreign and primary keys must match</li>
<li dir="auto">does <em>not</em> have to be unique
<ul dir="auto">
<li dir="auto">but must refer to a unique key in the referred relation</li>
</ul>
</li>
<li dir="auto"><em>can</em> be null</li>
</ul>
</li>
</ul>

</body>
</html>